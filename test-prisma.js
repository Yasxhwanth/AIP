const { PrismaClient } = require('./src/generated/prisma/client'); const { PrismaPg } = require('@prisma/adapter-pg'); const pg = require('pg'); const { Pool } = pg; const pool = new Pool({ connectionString: 'postgres://postgres:postgres@localhost:5432/aip' }); const adapter = new PrismaPg(pool); const prisma = new PrismaClient({ adapter }); async function main() { try { const e = await prisma.entityType.findFirst({ where: { name: 'Asset' } }); console.log('Found:', e); } catch (err) { require('fs').writeFileSync('prisma-err.txt', err.stack || err.message || String(err)); } } main();
